# =============================================================================
# REQUIRED ENVIRONMENT VARIABLES
# =============================================================================
# ALL environment variables are REQUIRED. The application will fail to start
# or process issues if any required environment variable is missing.

# LLM Configuration (Required)
# API key for the underlying LLM provider (OpenAI, Anthropic, DeepSeek, etc.)
LLM_API_KEY=your-api-key-here

# LLM Model (Required)
# Model identifier used by OpenHands (e.g., deepseek, anthropic/claude-3-5-sonnet)
LLM_MODEL=deepseek

# LLM Base URL (Required)
# Base URL for LLM endpoints
LLM_BASE_URL=https://api.deepseek.com

# Jira Configuration (Required)
# Jira instance base URL
JIRA_URL=https://your-domain.atlassian.net
# Jira username/email for API authentication
JIRA_USERNAME=your-email@example.com
# Jira API token (generate from Jira account settings -> Security -> API tokens)
JIRA_API_TOKEN=your-jira-api-token

# Webhook Configuration (Required)
# Publicly accessible URL where Jira can send webhooks
# Examples:
#   - Production: https://your-app.example.com
#   - Development: https://your-ngrok-url.ngrok.io
#   - Local testing: http://localhost:8000 (only works if Jira can reach it)
WEBHOOK_BASE_URL=http://localhost:8000

# Webhook Enabled (Required)
# Set to true to register webhooks on startup, false to skip registration
WEBHOOK_ENABLED=true

# Confluence Configuration (Required)
# Confluence instance base URL
CONFLUENCE_URL=https://your-domain.atlassian.net/wiki
# Confluence username for API authentication
CONFLUENCE_USERNAME=your-email@example.com
# Confluence API token (generate from Confluence account settings)
CONFLUENCE_API_TOKEN=your-confluence-api-token

# MCP Server Configuration (Required)
# Command to run MCP server
MCP_ATLASSIAN_COMMAND=npx
# Arguments for MCP server
MCP_ATLASSIAN_ARGS=-y,@sooperset/mcp-atlassian

# =============================================================================
# PROJECT-SPECIFIC CONFIGURATION (Required)
# =============================================================================
# These variables are dynamically mapped based on project identifier extracted
# from Jira issue titles (e.g., [backend] Add feature -> extracts "backend")
# Format: {VAR_NAME}_{PROJECT_IDENTIFIER} (uppercase, hyphens replaced with underscores)
#
# Example: Issue title "[backend] Add authentication" extracts "backend"
#          -> Looks up: PROJECT_REPO_BACKEND, TEAM_CONTRIBUTION_RULES_URL_BACKEND, etc.
#
# ALL project-specific variables are REQUIRED for each project identifier.
# If any are missing, the application will fail with an error log.

# Project Repository URL (Required)
# Maps to: PROJECT_REPO_{PROJECT_IDENTIFIER}
# Example: PROJECT_REPO_BACKEND=https://github.com/your-org/backend-repo
PROJECT_REPO_BACKEND=https://github.com/your-org/backend-repo
PROJECT_REPO_WEB_FRONT=https://github.com/your-org/web-frontend-repo
# Add more as needed: PROJECT_REPO_{YOUR_PROJECT_IDENTIFIER}

# Team Contribution Rules URL (Required)
# Maps to: TEAM_CONTRIBUTION_RULES_URL_{PROJECT_IDENTIFIER}
# Example: TEAM_CONTRIBUTION_RULES_URL_BACKEND=https://confluence.example.com/team-contribution-rules
TEAM_CONTRIBUTION_RULES_URL_BACKEND=https://your-confluence-instance.com/team-contribution-rules
TEAM_CONTRIBUTION_RULES_URL_WEB_FRONT=https://your-confluence-instance.com/team-contribution-rules
# Add more as needed: TEAM_CONTRIBUTION_RULES_URL_{YOUR_PROJECT_IDENTIFIER}

# Architecture Rules URL (Required)
# Maps to: ARCHITECTURE_RULES_URL_{PROJECT_IDENTIFIER}
# Example: ARCHITECTURE_RULES_URL_BACKEND=https://confluence.example.com/architecture-rules
ARCHITECTURE_RULES_URL_BACKEND=https://your-confluence-instance.com/architecture-rules
ARCHITECTURE_RULES_URL_WEB_FRONT=https://your-confluence-instance.com/architecture-rules
# Add more as needed: ARCHITECTURE_RULES_URL_{YOUR_PROJECT_IDENTIFIER}

# Product Requirements Document URL (Required)
# Maps to: PRD_URL_{PROJECT_IDENTIFIER}
# Example: PRD_URL_BACKEND=https://confluence.example.com/prd/backend
PRD_URL_BACKEND=https://your-confluence-instance.com/prd/backend
PRD_URL_WEB_FRONT=https://your-confluence-instance.com/prd/web-frontend
# Add more as needed: PRD_URL_{YOUR_PROJECT_IDENTIFIER}

# Architecture Requirements Document URL (Required)
# Maps to: ARD_URL_{PROJECT_IDENTIFIER}
# Example: ARD_URL_BACKEND=https://confluence.example.com/ard/backend
ARD_URL_BACKEND=https://your-confluence-instance.com/ard/backend
ARD_URL_WEB_FRONT=https://your-confluence-instance.com/ard/web-frontend
# Add more as needed: ARD_URL_{YOUR_PROJECT_IDENTIFIER}
